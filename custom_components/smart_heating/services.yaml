# Services for Zone Heater Manager integration

refresh:
  name: Refresh
  description: Manually refresh the Zone Heater Manager data
  fields: {}

add_device_to_area:
  name: Add Device to Zone
  description: Add a Zigbee2MQTT device to a area
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area
      required: true
      example: "living_room"
      selector:
        text:
    device_id:
      name: Device ID
      description: Zigbee2MQTT device identifier
      required: true
      example: "0x00158d0001a2b3c4"
      selector:
        text:
    device_type:
      name: Device Type
      description: Type of device
      required: true
      example: "thermostat"
      selector:
        select:
          options:
            - "thermostat"
            - "temperature_sensor"
            - "opentherm_gateway"
            - "valve"

remove_device_from_area:
  name: Remove Device from Zone
  description: Remove a device from a area
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area
      required: true
      example: "living_room"
      selector:
        text:
    device_id:
      name: Device ID
      description: Device identifier to remove
      required: true
      example: "0x00158d0001a2b3c4"
      selector:
        text:

set_area_temperature:
  name: Set Zone Temperature
  description: Set the target temperature for a area
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area
      required: true
      example: "living_room"
      selector:
        text:
    temperature:
      name: Target Temperature
      description: New target temperature (°C)
      required: true
      example: 21.5
      selector:
        number:
          min: 5
          max: 30
          step: 0.5
          unit_of_measurement: "°C"

enable_area:
  name: Enable Zone
  description: Enable heating for a area
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area to enable
      required: true
      example: "living_room"
      selector:
        text:

disable_area:
  name: Disable Zone
  description: Disable heating for a area
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area to disable
      required: true
      example: "living_room"
      selector:
        text:

add_schedule:
  name: Add Schedule
  description: Add a temperature schedule to an area
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area
      required: true
      example: "living_room"
      selector:
        text:
    schedule_id:
      name: Schedule ID
      description: Unique identifier for the schedule
      required: true
      example: "morning_warmup"
      selector:
        text:
    time:
      name: Time
      description: Time in HH:MM format when this temperature should be set
      required: true
      example: "07:00"
      selector:
        text:
    temperature:
      name: Temperature
      description: Target temperature for this schedule (°C)
      required: true
      example: 21.5
      selector:
        number:
          min: 5
          max: 30
          step: 0.5
          unit_of_measurement: "°C"
    days:
      name: Days of Week
      description: Days when schedule is active (optional, defaults to all days)
      required: false
      example: ["mon", "tue", "wed", "thu", "fri"]
      selector:
        select:
          multiple: true
          options:
            - label: "Monday"
              value: "mon"
            - label: "Tuesday"
              value: "tue"
            - label: "Wednesday"
              value: "wed"
            - label: "Thursday"
              value: "thu"
            - label: "Friday"
              value: "fri"
            - label: "Saturday"
              value: "sat"
            - label: "Sunday"
              value: "sun"

remove_schedule:
  name: Remove Schedule
  description: Remove a schedule from an area
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area
      required: true
      example: "living_room"
      selector:
        text:
    schedule_id:
      name: Schedule ID
      description: Identifier of the schedule to remove
      required: true
      example: "morning_warmup"
      selector:
        text:

enable_schedule:
  name: Enable Schedule
  description: Enable a schedule for an area
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area
      required: true
      example: "living_room"
      selector:
        text:
    schedule_id:
      name: Schedule ID
      description: Identifier of the schedule to enable
      required: true
      example: "morning_warmup"
      selector:
        text:

disable_schedule:
  name: Disable Schedule
  description: Disable a schedule for an area
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area
      required: true
      example: "living_room"
      selector:
        text:
    schedule_id:
      name: Schedule ID
      description: Identifier of the schedule to disable
      required: true
      example: "morning_warmup"
      selector:
        text:

set_night_boost:
  name: Set Night Boost
  description: Configure night boost for an area (manual or adaptive learning mode)
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area
      required: true
      example: "living_room"
      selector:
        text:
    night_boost_enabled:
      name: Night Boost Enabled
      description: Enable or disable manual night boost
      required: false
      example: true
      selector:
        boolean:
    night_boost_offset:
      name: Night Boost Offset
      description: Temperature offset to add during night hours (°C)
      required: false
      example: 0.5
      selector:
        number:
          min: 0
          max: 3
          step: 0.1
          unit_of_measurement: "°C"
    night_boost_start_time:
      name: Night Boost Start Time
      description: Start time for night boost period in HH:MM format (24-hour)
      required: false
      default: "22:00"
      example: "22:00"
      selector:
        time:
    night_boost_end_time:
      name: Night Boost End Time
      description: End time for night boost period in HH:MM format (24-hour). Can cross midnight (e.g., 22:00-06:00)
      required: false
      default: "06:00"
      example: "06:00"
      selector:
        time:
    smart_night_boost_enabled:
      name: Smart Night Boost Enabled
      description: Enable adaptive learning to predict optimal heating start time
      required: false
      example: true
      selector:
        boolean:
    smart_night_boost_target_time:
      name: Smart Night Boost Target Time
      description: Desired time to reach target temperature (e.g., wake-up time)
      required: false
      default: "06:00"
      example: "06:00"
      selector:
        time:
    weather_entity_id:
      name: Weather Entity ID
      description: Outdoor temperature sensor for weather correlation (optional but recommended)
      required: false
      example: "sensor.outdoor_temperature"
      selector:
        entity:
          domain: sensor
          device_class: temperature

set_hysteresis:
  name: Set Hysteresis
  description: Set the global temperature hysteresis for heating control
  fields:
    hysteresis:
      name: Hysteresis
      description: Temperature difference before heating turns on/off (°C)
      required: true
      example: 0.5
      selector:
        number:
          min: 0.1
          max: 2.0
          step: 0.1
          unit_of_measurement: "°C"

set_opentherm_gateway:
  name: Set OpenTherm Gateway
  description: Configure the global OpenTherm gateway for boiler control (shared across all areas)
  fields:
    gateway_id:
      name: Gateway Entity ID
      description: Entity ID of the OpenTherm gateway climate entity (e.g., climate.opentherm_gateway)
      required: false
      example: "climate.opentherm_gateway"
      selector:
        entity:
          domain: climate
    enabled:
      name: Enabled
      description: Enable or disable OpenTherm gateway control
      required: false
      default: true
      example: true
      selector:
        boolean:

set_trv_temperatures:
  name: Set TRV Temperatures
  description: Configure global settings for temperature-controlled TRVs. System queries device capabilities at runtime - NO hardcoded device models. Works with ANY TRV brand.
  fields:
    heating_temp:
      name: Heating Temperature
      description: Fallback temperature for TRVs when area is heating (°C). Used only if target+offset is lower.
      required: false
      default: 25.0
      example: 25.0
      selector:
        number:
          min: 15
          max: 30
          step: 0.5
          unit_of_measurement: "°C"
    idle_temp:
      name: Idle Temperature
      description: Temperature to set on TRV when area is idle (°C). Closes the valve.
      required: false
      default: 10.0
      example: 10.0
      selector:
        number:
          min: 5
          max: 20
          step: 0.5
          unit_of_measurement: "°C"
    temp_offset:
      name: Temperature Offset
      description: Offset above target temperature for temp-controlled valves (°C). Ensures valve opens fully when heating.
      required: false
      default: 10.0
      example: 10.0
      selector:
        number:
          min: 5
          max: 20
          step: 0.5
          unit_of_measurement: "°C"

# Advanced Heating Features

set_preset_mode:
  name: Set Preset Mode
  description: Set the preset mode for an area (AWAY, ECO, COMFORT, HOME, SLEEP, ACTIVITY, BOOST, or NONE)
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area
      required: true
      example: "living_room"
      selector:
        text:
    preset_mode:
      name: Preset Mode
      description: Preset mode to activate
      required: true
      example: "comfort"
      selector:
        select:
          options:
            - label: "None (Use schedule/manual)"
              value: "none"
            - label: "Away (16°C)"
              value: "away"
            - label: "Eco (18°C)"
              value: "eco"
            - label: "Comfort (22°C)"
              value: "comfort"
            - label: "Home (20°C)"
              value: "home"
            - label: "Sleep (19°C)"
              value: "sleep"
            - label: "Activity (21°C)"
              value: "activity"
            - label: "Boost (24°C)"
              value: "boost"

set_boost_mode:
  name: Set Boost Mode
  description: Activate temporary boost mode to quickly heat an area
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area
      required: true
      example: "living_room"
      selector:
        text:
    duration:
      name: Duration
      description: Boost duration in minutes
      required: true
      example: 30
      selector:
        number:
          min: 5
          max: 180
          step: 5
          unit_of_measurement: "min"
    temperature:
      name: Boost Temperature
      description: Target temperature during boost (optional, defaults to 24°C)
      required: false
      example: 24.0
      selector:
        number:
          min: 18
          max: 30
          step: 0.5
          unit_of_measurement: "°C"

cancel_boost:
  name: Cancel Boost Mode
  description: Cancel active boost mode for an area
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area
      required: true
      example: "living_room"
      selector:
        text:

set_frost_protection:
  name: Set Frost Protection
  description: Configure global frost protection to prevent freezing (applies to all areas)
  fields:
    enabled:
      name: Enabled
      description: Enable or disable frost protection
      required: true
      example: true
      selector:
        boolean:
    temperature:
      name: Minimum Temperature
      description: Minimum temperature to maintain (°C)
      required: false
      default: 7.0
      example: 7.0
      selector:
        number:
          min: 3
          max: 15
          step: 0.5
          unit_of_measurement: "°C"

add_window_sensor:
  name: Add Window Sensor
  description: Add a window/door sensor to an area for automatic heating adjustment
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area
      required: true
      example: "living_room"
      selector:
        text:
    entity_id:
      name: Window Sensor Entity
      description: Entity ID of the window/door sensor (binary_sensor)
      required: true
      example: "binary_sensor.living_room_window"
      selector:
        entity:
          domain: binary_sensor
          device_class: 
            - window
            - door
            - opening

remove_window_sensor:
  name: Remove Window Sensor
  description: Remove a window/door sensor from an area
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area
      required: true
      example: "living_room"
      selector:
        text:
    entity_id:
      name: Window Sensor Entity
      description: Entity ID of the window/door sensor to remove
      required: true
      example: "binary_sensor.living_room_window"
      selector:
        entity:
          domain: binary_sensor

add_presence_sensor:
  name: Add Presence Sensor
  description: Add a presence/motion sensor to an area for automatic temperature boost
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area
      required: true
      example: "living_room"
      selector:
        text:
    entity_id:
      name: Presence Sensor Entity
      description: Entity ID of the presence/motion sensor (binary_sensor)
      required: true
      example: "binary_sensor.living_room_motion"
      selector:
        entity:
          domain: binary_sensor
          device_class: 
            - motion
            - occupancy
            - presence

remove_presence_sensor:
  name: Remove Presence Sensor
  description: Remove a presence/motion sensor from an area
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area
      required: true
      example: "living_room"
      selector:
        text:
    entity_id:
      name: Presence Sensor Entity
      description: Entity ID of the presence/motion sensor to remove
      required: true
      example: "binary_sensor.living_room_motion"
      selector:
        entity:
          domain: binary_sensor

set_hvac_mode:
  name: Set HVAC Mode
  description: Set the HVAC mode for an area (OFF, HEAT, COOL, AUTO)
  fields:
    area_id:
      name: Zone ID
      description: Identifier of the area
      required: true
      example: "living_room"
      selector:
        text:
    hvac_mode:
      name: HVAC Mode
      description: HVAC operation mode
      required: true
      example: "heat"
      selector:
        select:
          options:
            - label: "Off"
              value: "off"
            - label: "Heat"
              value: "heat"
            - label: "Cool"
              value: "cool"
            - label: "Auto"
              value: "auto"

copy_schedule:
  name: Copy Schedule
  description: Copy all schedules from one area/day to another area/day
  fields:
    source_area_id:
      name: Source Zone ID
      description: Area to copy schedules from
      required: true
      example: "living_room"
      selector:
        text:
    target_area_id:
      name: Target Zone ID
      description: Area to copy schedules to (can be same as source)
      required: true
      example: "bedroom"
      selector:
        text:
    source_days:
      name: Source Days
      description: Days to copy from (optional, defaults to all days)
      required: false
      example: ["mon"]
      selector:
        select:
          multiple: true
          options:
            - label: "Monday"
              value: "mon"
            - label: "Tuesday"
              value: "tue"
            - label: "Wednesday"
              value: "wed"
            - label: "Thursday"
              value: "thu"
            - label: "Friday"
              value: "fri"
            - label: "Saturday"
              value: "sat"
            - label: "Sunday"
              value: "sun"
    target_days:
      name: Target Days
      description: Days to copy to (optional, defaults to same as source)
      required: false
      example: ["tue", "wed", "thu", "fri"]
      selector:
        select:
          multiple: true
          options:
            - label: "Monday"
              value: "mon"
            - label: "Tuesday"
              value: "tue"
            - label: "Wednesday"
              value: "wed"
            - label: "Thursday"
              value: "thu"
            - label: "Friday"
              value: "fri"
            - label: "Saturday"
              value: "sat"
            - label: "Sunday"
              value: "sun"
